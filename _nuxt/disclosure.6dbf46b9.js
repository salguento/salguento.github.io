import{o as i,u as k,c as L,l as D,P as m,t as E,p as M,R as h,a as v}from"./open-closed.f92ddf89.js";import{q as c,E as g,a2 as w,f as S,a3 as B,k as y,x as C,O as I}from"./entry.0a6051c2.js";function O(e,l){if(e)return e;let a=l!=null?l:"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function H(e,l){let a=c(O(e.value.type,e.value.as));return g(()=>{a.value=O(e.value.type,e.value.as)}),w(()=>{var o;a.value||!i(l)||i(l)instanceof HTMLButtonElement&&!((o=i(l))!=null&&o.hasAttribute("type"))&&(a.value="button")}),a}var R=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(R||{});let $=Symbol("DisclosureContext");function P(e){let l=I($,null);if(l===null){let a=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,P),a}return l}let x=Symbol("DisclosurePanelContext");function q(){return I(x,null)}let U=S({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:l,attrs:a}){let o=c(e.defaultOpen?0:1),t=c(null),p=c(null),n={buttonId:c(null),panelId:c(null),disclosureState:o,panel:t,button:p,toggleDisclosure(){o.value=k(o.value,{[0]:1,[1]:0})},closeDisclosure(){o.value!==1&&(o.value=1)},close(u){n.closeDisclosure();let r=(()=>u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?i(u):i(n.button):i(n.button))();r==null||r.focus()}};return B($,n),L(y(()=>k(o.value,{[0]:D.Open,[1]:D.Closed}))),()=>{let{defaultOpen:u,...r}=e,d={open:o.value===0,close:n.close};return m({theirProps:r,ourProps:{},slot:d,slots:l,attrs:a,name:"Disclosure"})}}}),V=S({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${E()}`}},setup(e,{attrs:l,slots:a,expose:o}){let t=P("DisclosureButton");g(()=>{t.buttonId.value=e.id}),C(()=>{t.buttonId.value=null});let p=q(),n=y(()=>p===null?!1:p.value===t.panelId.value),u=c(null);o({el:u,$el:u}),n.value||w(()=>{t.button.value=u.value});let r=H(y(()=>({as:e.as,type:l.type})),u);function d(){var s;e.disabled||(n.value?(t.toggleDisclosure(),(s=i(t.button))==null||s.focus()):t.toggleDisclosure())}function f(s){var b;if(!e.disabled)if(n.value)switch(s.key){case v.Space:case v.Enter:s.preventDefault(),s.stopPropagation(),t.toggleDisclosure(),(b=i(t.button))==null||b.focus();break}else switch(s.key){case v.Space:case v.Enter:s.preventDefault(),s.stopPropagation(),t.toggleDisclosure();break}}function T(s){switch(s.key){case v.Space:s.preventDefault();break}}return()=>{let s={open:t.disclosureState.value===0},{id:b,...j}=e,K=n.value?{ref:u,type:r.value,onClick:d,onKeydown:f}:{id:b,ref:u,type:r.value,"aria-expanded":e.disabled?void 0:t.disclosureState.value===0,"aria-controls":i(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:d,onKeydown:f,onKeyup:T};return m({ourProps:K,theirProps:j,slot:s,attrs:l,slots:a,name:"DisclosureButton"})}}}),X=S({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${E()}`}},setup(e,{attrs:l,slots:a,expose:o}){let t=P("DisclosurePanel");g(()=>{t.panelId.value=e.id}),C(()=>{t.panelId.value=null}),o({el:t.panel,$el:t.panel}),B(x,t.panelId);let p=M(),n=y(()=>p!==null?p.value===D.Open:t.disclosureState.value===0);return()=>{let u={open:t.disclosureState.value===0,close:t.close},{id:r,...d}=e,f={id:r,ref:t.panel};return m({ourProps:f,theirProps:d,slot:u,attrs:l,slots:a,features:h.RenderStrategy|h.Static,visible:n.value,name:"DisclosurePanel"})}}});export{U as Q,V,X};
